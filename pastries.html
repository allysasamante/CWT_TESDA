<!DOCTYPE html>
<html>
	<head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

		
		<title>KYOWFEE Desserts</title>
		 <!--MATERIAL ICONS-->
		 <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

		 <!-- Font Awesome link-->
		 <script src="https://kit.fontawesome.com/8709056933.js" crossorigin="anonymous"></script>
	 
		 <!-- Compiled and minified CSS -->
		 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
	 
		<link rel="icon" type="image/x-icon" href="https://i.imgur.com/ChSKUzT.png">
		<link rel="stylesheet" type="text/css" href="styles.css"> </link>

		<!-- JS JQuery Functions -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
	</head>

<body>

    <!--CONTAINER-->
    <div class="navbar-fixed">
        <nav class="black nav-extended">
			<main>
            <div class="container">	
				<!-- Desserts Page Main Div-->			
				<div class="parent-container center-flex">	
                <div class="nav-wrapper">
                    <a href="" class="sidenav-trigger"
                    data-target="mobile-demo">
                        <i class="fa-solid fa-bars"></i>
                    </a>

                        <ul id="menu" class="right hide-on-med-and-down ">
                            <li>
                                <a href="coffeeshop.html">Home</a>
                            </li>
                            <li>
								<a href="coffeeshop.html#about">About Us</a>
                            </li>
                            <li>
                                <a href="home.html">Products</a>
                            </li>
                            

                            
                            <li>
                                <a href="" class="dropdown-trigger"
                                data-target="dropdown1">
                                    <i class="material-icons">arrow_drop_down</i>
                                </a>
                            </li>
                        </ul>
                        
                        <!-- Apply the center-title class to center the text -->
                    <h1 class="title center-title">KYOW<span>FEE</span></h1>
                </div>
                    
                    <!--drop down structure-->
                    <ul id="dropdown1" class = "dropdown-content">
                        <li>
                            <a href="dessert.html">DESSERTS</a>
                        </li>
                        <li>
                            <a href="pastries.html">PASTRIES</a>
                        </li>
                        <li>
                            <a href="drinks.html">DRINKS</a>
                        </li> 
                    </ul>
			
				
			
					<!-- Desserts Page Items -->
					<div class="menu-items center-flex">
                        <div class="item order-item">
                            <label class="item-name pastry">WAFFLES</label>
                            <label class="promotion">GET 50% Discount</label>
                            <label class="kira-kira">★★★★★</label>
                            <img src="https://static.wixstatic.com/media/422cc6_c476f479a3d7476592d418b8acb64fd5~mv2.png/v1/fill/w_192,h_174,al_c,q_85,usm_0.66_1.00_0.01,enc_auto/422cc6_c476f479a3d7476592d418b8acb64fd5~mv2.png">
                            <label class="price">P 150.00</label> 
                        </div>
                        <div class="item order-item">
                            <label class="item-name pastry">FETTA PUFF</label>
                            <label class="promotion">GET 50% Discount</label>
                            <label class="kira-kira">★★★★★</label>
                            <img src="https://static.wixstatic.com/media/422cc6_f6fc33135bf24b9cbf2bf567fe7fd467~mv2.png/v1/fill/w_233,h_135,al_c,q_85,usm_0.66_1.00_0.01,enc_auto/422cc6_f6fc33135bf24b9cbf2bf567fe7fd467~mv2.png"> 
                            <label class="price">P 100.00</label> 
                        </div>
                        <div class="item order-item">
                            <label class="item-name pastry">GLAZE BREAD</label>
                            <label class="promotion">GET 50% Discount</label>
                            <label class="kira-kira">★★★★★</label>
                            <img src="https://static.wixstatic.com/media/422cc6_78b75a445f6046449fae73073fa01368~mv2.png/v1/fill/w_238,h_148,al_c,q_85,usm_0.66_1.00_0.01,enc_auto/422cc6_78b75a445f6046449fae73073fa01368~mv2.png"> 
                            <label class="price">P 150.00</label> 
                        </div>
                        <div class="item order-item">
                            <label class="item-name pastry">COOKIES</label>
                            <label class="promotion">GET 50% Discount</label>
                            <label class="kira-kira">★★★★★</label>
                            <img src="https://static.wixstatic.com/media/422cc6_ea6d12f116314247850dc10542667b71~mv2.png/v1/fill/w_220,h_120,al_c,q_85,usm_0.66_1.00_0.01,enc_auto/422cc6_ea6d12f116314247850dc10542667b71~mv2.png"> 
                            <label class="price">P 100.00</label> 
                        </div>
                        <div class="item order-item">
                            <label class="item-name pastry">PUDDING</label>
                            <label class="promotion">GET 50% Discount</label>
                            <label class="kira-kira">★★★★★</label>
                            <img src="https://static.wixstatic.com/media/422cc6_ea6d12f116314247850dc10542667b71~mv2.png/v1/fill/w_220,h_120,al_c,q_85,usm_0.66_1.00_0.01,enc_auto/422cc6_ea6d12f116314247850dc10542667b71~mv2.png"> 
                            <label class="price">P 100.00</label> 
                        </div>
                        <div class="item order-item">
                            <label class="item-name pastry">DONUTS</label>
                            <label class="promotion">GET 50% Discount</label>
                            <label class="kira-kira">★★★★★</label>
                            <img src="https://static.wixstatic.com/media/422cc6_c35bc1dcbb784e31a93334d3a22939ad~mv2.png/v1/fill/w_230,h_145,al_c,q_85,usm_0.66_1.00_0.01,enc_auto/422cc6_c35bc1dcbb784e31a93334d3a22939ad~mv2.png"> 
                            <label class="price">P 100.00</label> 
                        </div>
                        <div class="item order-item">
                            <label class="item-name pastry">CUPCAKES</label>
                            <label class="promotion">GET 50% Discount</label>
                            <label class="kira-kira">★★★★★</label>
                            <img src="https://static.wixstatic.com/media/422cc6_8832e264055b4bbaa28a8759c294f74e~mv2.png/v1/fill/w_251,h_157,al_c,q_85,usm_0.66_1.00_0.01,enc_auto/422cc6_8832e264055b4bbaa28a8759c294f74e~mv2.png"> 
                            <label class="price">P 100.00</label> 
                        </div>
                        <div class="item order-item">
                            <label class="item-name pastry">CHOCO</label>
                            <label class="promotion">GET 50% Discount</label>
                            <label class="kira-kira">★★★★★</label>
                            <img src="https://static.wixstatic.com/media/422cc6_45af2963328a47bda2da1549de4df7fa~mv2.png/v1/fill/w_239,h_142,al_c,q_85,usm_0.66_1.00_0.01,enc_auto/422cc6_45af2963328a47bda2da1549de4df7fa~mv2.png"> 
                            <label class="price">P 100.00</label> 
                        </div>
					</div>
				</div>
			</div>
			</main>
		</nav>
	</div>

        <!--SIDENAV STRUCTURE-->
    
        <ul class="sidenav" id="mobile-demo">
            <li>
				<a href="coffeeshop.html">HOME</a>
			</li>
			<li>
				<a href="coffeeshop.html#about">ABOUT US</a>
			</li>
            <li>
                <a href="home.html" >PRODUCTS</a>
            </li>
            
        </ul>
	


    <!-- Jquery CDN -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    
    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

    <script>
         //SIDENAV INITIALIZE
        $('.sidenav').sidenav({
                edge: 'left',
                inDuration: 1000,
                outDuration: 1000
        });
        $(document).ready(function() {
            //Dropdown initialize
            $('.dropdown-trigger').dropdown();
        });
          //slider init
        $('.slider').slider({
            indicators: false, 
            height: 400,
            duration: 2000,
            interval: 2000
        });
    </script>
		<script>
            let cartList = [];


$(document).ready(function () {
	cartList = JSON.parse(localStorage.getItem("cartList")) || [];
	console.log(cartList);

	$(".header-brand").click(function () {
		window.location.href = "home.html";

	});

	$("#itemPastries").click(function () {
		window.location.href = "pastries.html";

	});

	$("#itemDesserts").click(function () {
		window.location.href = "desserts.html";

	});

	$("#itemDrinks").click(function () {
		window.location.href = "drinks.html";

	});

	$(".order-item").click(function () {
		let name = $(this).find(".item-name").text();
		let price = $(this).find(".price").text();
		let img = $(this).find("img").attr("src");
		
		let category = $(this).find(".item-name").attr("class").split(" ")[1];
		
		$(".parent-container").prepend("<div class='block-screen'></div><div class='item-popup'>"
					+ "<button class='x-cancel' onclick='removePopup()'>✖</button>"
					+ "<div class='center-flex'>"
						+ "<img class='brand-img' src='https://i.imgur.com/ChSKUzT.png'>"
						+ "<label class='brand-label'>" + $(".banner-texts label:first").text() + "</label>"
					+ "</div><div class='center-flex'>"
						+ "<img src='" + img + "' height='170px'>"
						+ "<div>"
							+ "<label>" + name + "</label>"
							+ "<label>" + price + "</label>"
							+ "<button class='popup-ok' onclick='addToCart(\"" + name + "\"," + price.substring(2) + ",\"" + img + "\",\"" + category + "\")'>ADD TO CART</button>"
					+ "</div></div></div>");
		$(".item-popup").fadeIn("ease");
	});
		
	if (cartList.length != 0) {
		let totalAmount = 0;		
		
		cartList.forEach(item => {
			let cartCategories = document.querySelectorAll(".cart-category");
			
			totalAmount += parseFloat(item.price);

			for  (let index = 0; index < cartCategories.length; index++) {
				if (cartCategories[index].classList.contains(item.category)) {


					cartCategories[index].innerHTML += "<div class='cart-item center-flex'>"
								+ "<div class='center-flex'><img src='" + item.img + "'></div>"
								+ "<p>" + item.name + "<br>P " + item.price + ".00</p>"
							+ "</div>";
				}
			}


			$(".order-list").append("<div class='listed center-flex'>"
							+ "<label>1 " + item.name + "</label>" 
							+ "<label>P " + item.price + ".00</label>" 
						+ "</div>");

		});

		$("#totalAmount").text("Total Amount: P " + totalAmount + ".00");
		$(".order-list").append("<div class='listed center-flex'>"
						+ "<label>TOTAL</label>" 
						+ "<label>P " + totalAmount + ".00</label>" 
					+ "</div>");
	}

	if (localStorage.getItem("payment") === null) {
		localStorage.setItem("payment", "Cash On Delivery");
	}
	
	$(".mode-options div:first").click( function () {
		$(this).css("border", "4px solid blue");
		$(".mode-options div:last").css("border", "4px solid #67481b");
		localStorage.setItem("payment", "Cash On Delivery");
	});

	$(".mode-options div:last").click( function () {
		$(this).css("border", "4px solid blue");
		$(".mode-options div:first").css("border", "4px solid #67481b");
		localStorage.setItem("payment", "GCash");
	});

	$("#modePayment").text("Mode of Payment: " + localStorage.getItem("payment"));
});

class Order {
	constructor (name, price, img, category) {
		this.name = name;
		this.price = price;
		this.img = img;
		this.category = category;
	}
}

function removePopup() {
	$(".item-popup").fadeOut("1000", function() {
		$(this).remove();
		$(".block-screen").remove();
	});
}

function backToCategory() {
		window.location.href = "categories.html";
}

function seeCart() {
		window.location.href = "cart.html";
}

function addToCart(name, price, img, category) {
	console.log(name);
	console.log(price);
	console.log(img);
	console.log(category);

	let order = new Order(name, price, img, category); 
	
	cartList.push(order);
	localStorage.setItem("cartList", JSON.stringify(cartList));

	$(".popup-ok").text("ORDER ADDED!")
	$(".popup-ok").css("background-color", "#fa9600");

	removePopup();
}

function checkOut() {
	window.location.href = "payment.html";
}

function backToMenu() {
	localStorage.clear();
	window.location.href = "categories.html";
}
        </script>
	</body>

 	<footer>
 		<a>Give Feedback</a>
		<b>·</b>
		<a>Contact Service</a>
		<b>·</b>
		<a>About Us</a>
 	</footer>
</html>